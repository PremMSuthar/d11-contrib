{#\n/**\n * @file\n * Template for comprehensive Extensions Analysis with detailed reporting.\n *\n * Available variables:\n * - unified_data: Array of unified module and theme data with comprehensive analysis\n * - module_data: Raw module analysis data\n * - theme_data: Raw theme analysis data\n * - summary_stats: Summary statistics\n * - analysis_tools: Available analysis tools\n */\n#}\n\n<div class=\"site-analyzer-comprehensive-extensions\">\n  <div class=\"extensions-header\">\n    <div class=\"header-content\">\n      <h1 class=\"page-title\">\n        <span class=\"title-icon\">üîß</span>\n        {{ 'Comprehensive Extensions Analysis'|t }}\n      </h1>\n      <p class=\"page-description\">\n        {{ 'Professional-grade analysis with Rector, PHPCS, ESLint, security scanning, and comprehensive project estimation tools.'|t }}\n      </p>\n    </div>\n    <div class=\"header-actions\">\n      <button class=\"btn btn-primary analyze-all-btn\" data-action=\"full-analysis\">\n        <span class=\"btn-icon\">üöÄ</span>\n        {{ 'Run Full Analysis'|t }}\n      </button>\n      <div class=\"dropdown export-dropdown\">\n        <button class=\"btn btn-secondary dropdown-toggle\" data-toggle=\"dropdown\">\n          <span class=\"btn-icon\">üìä</span>\n          {{ 'Export Report'|t }}\n        </button>\n        <div class=\"dropdown-menu\">\n          <a href=\"#\" class=\"dropdown-item export-btn\" data-format=\"json\">{{ 'Detailed JSON Report'|t }}</a>\n          <a href=\"#\" class=\"dropdown-item export-btn\" data-format=\"csv\">{{ 'Summary CSV'|t }}</a>\n          <a href=\"#\" class=\"dropdown-item export-btn\" data-format=\"excel\">{{ 'Executive Excel Report'|t }}</a>\n          <a href=\"#\" class=\"dropdown-item export-btn\" data-format=\"pdf\">{{ 'Project Estimation PDF'|t }}</a>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  {# Executive Summary Dashboard #}\n  <div class=\"executive-summary\">\n    <h2>{{ 'Executive Summary'|t }}</h2>\n    <div class=\"summary-grid\">\n      <div class=\"summary-card overall-health\">\n        <div class=\"card-icon\">üéØ</div>\n        <div class=\"card-content\">\n          <div class=\"card-number\">{{ summary_stats.overall_health_score|default(0) }}%</div>\n          <div class=\"card-label\">{{ 'Overall Health Score'|t }}</div>\n          <div class=\"card-status status-{{ summary_stats.overall_health_level|default('unknown') }}\">\n            {{ summary_stats.overall_health_level|default('Unknown')|title }}\n          </div>\n        </div>\n      </div>\n\n      <div class=\"summary-card critical-issues\">\n        <div class=\"card-icon\">‚ö†Ô∏è</div>\n        <div class=\"card-content\">\n          <div class=\"card-number\">{{ summary_stats.critical_issues|default(0) }}</div>\n          <div class=\"card-label\">{{ 'Critical Issues'|t }}</div>\n          <div class=\"card-breakdown\">\n            <span class=\"breakdown-item security\">{{ summary_stats.security_issues|default(0) }} {{ 'Security'|t }}</span>\n            <span class=\"breakdown-item deprecated\">{{ summary_stats.deprecated_issues|default(0) }} {{ 'Deprecated'|t }}</span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"summary-card upgrade-readiness\">\n        <div class=\"card-icon\">üöÄ</div>\n        <div class=\"card-content\">\n          <div class=\"card-number\">{{ summary_stats.upgrade_readiness|default(0) }}%</div>\n          <div class=\"card-label\">{{ 'Drupal 11 Ready'|t }}</div>\n          <div class=\"card-progress\">\n            <div class=\"progress-bar\">\n              <div class=\"progress-fill\" style=\"width: {{ summary_stats.upgrade_readiness|default(0) }}%\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"summary-card effort-estimation\">\n        <div class=\"card-icon\">‚è±Ô∏è</div>\n        <div class=\"card-content\">\n          <div class=\"card-number\">{{ summary_stats.estimated_effort_hours|default(0) }}</div>\n          <div class=\"card-label\">{{ 'Estimated Hours'|t }}</div>\n          <div class=\"card-breakdown\">\n            <span class=\"breakdown-item\">{{ summary_stats.complexity_level|default('Unknown') }} {{ 'Complexity'|t }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  {# Analysis Tools Status #}\n  <div class=\"analysis-tools-status\">\n    <h3>{{ 'Analysis Tools Status'|t }}</h3>\n    <div class=\"tools-grid\">\n      <div class=\"tool-status\">\n        <span class=\"tool-icon\">üîç</span>\n        <span class=\"tool-name\">{{ 'PHPCS'|t }}</span>\n        <span class=\"tool-status-badge status-{{ analysis_tools.phpcs.available ? 'available' : 'unavailable' }}\">\n          {{ analysis_tools.phpcs.available ? 'Available' : 'Not Available' }}\n        </span>\n      </div>\n      <div class=\"tool-status\">\n        <span class=\"tool-icon\">‚ö°</span>\n        <span class=\"tool-name\">{{ 'Rector'|t }}</span>\n        <span class=\"tool-status-badge status-{{ analysis_tools.rector.available ? 'available' : 'unavailable' }}\">\n          {{ analysis_tools.rector.available ? 'Available' : 'Not Available' }}\n        </span>\n      </div>\n      <div class=\"tool-status\">\n        <span class=\"tool-icon\">üìù</span>\n        <span class=\"tool-name\">{{ 'ESLint'|t }}</span>\n        <span class=\"tool-status-badge status-{{ analysis_tools.eslint.available ? 'available' : 'unavailable' }}\">\n          {{ analysis_tools.eslint.available ? 'Available' : 'Not Available' }}\n        </span>\n      </div>\n      <div class=\"tool-status\">\n        <span class=\"tool-icon\">üé®</span>\n        <span class=\"tool-name\">{{ 'Stylelint'|t }}</span>\n        <span class=\"tool-status-badge status-{{ analysis_tools.stylelint.available ? 'available' : 'unavailable' }}\">\n          {{ analysis_tools.stylelint.available ? 'Available' : 'Not Available' }}\n        </span>\n      </div>\n      <div class=\"tool-status\">\n        <span class=\"tool-icon\">üîí</span>\n        <span class=\"tool-name\">{{ 'Security Scanner'|t }}</span>\n        <span class=\"tool-status-badge status-{{ analysis_tools.security_scanner.available ? 'available' : 'unavailable' }}\">\n          {{ analysis_tools.security_scanner.available ? 'Available' : 'Not Available' }}\n        </span>\n      </div>\n      <div class=\"tool-status\">\n        <span class=\"tool-icon\">üìä</span>\n        <span class=\"tool-name\">{{ 'PHPStan'|t }}</span>\n        <span class=\"tool-status-badge status-{{ analysis_tools.phpstan.available ? 'available' : 'unavailable' }}\">\n          {{ analysis_tools.phpstan.available ? 'Available' : 'Not Available' }}\n        </span>\n      </div>\n    </div>\n  </div>\n\n  {# Comprehensive Extensions Table #}\n  <div class=\"comprehensive-extensions-table\">\n    <div class=\"table-controls\">\n      <div class=\"search-and-filters\">\n        <div class=\"search-box\">\n          <input type=\"text\" class=\"search-input\" placeholder=\"{{ 'Search extensions...'|t }}\" id=\"extension-search\">\n          <span class=\"search-icon\">üîç</span>\n        </div>\n        \n        <div class=\"filter-group\">\n          <select class=\"filter-select\" id=\"type-filter\">\n            <option value=\"all\">{{ 'All Types'|t }}</option>\n            <option value=\"module\">{{ 'Modules'|t }}</option>\n            <option value=\"theme\">{{ 'Themes'|t }}</option>\n          </select>\n          \n          <select class=\"filter-select\" id=\"category-filter\">\n            <option value=\"all\">{{ 'All Categories'|t }}</option>\n            <option value=\"core\">{{ 'Core'|t }}</option>\n            <option value=\"contrib\">{{ 'Contributed'|t }}</option>\n            <option value=\"custom\">{{ 'Custom'|t }}</option>\n          </select>\n          \n          <select class=\"filter-select\" id=\"risk-filter\">\n            <option value=\"all\">{{ 'All Risk Levels'|t }}</option>\n            <option value=\"critical\">{{ 'Critical Risk'|t }}</option>\n            <option value=\"high\">{{ 'High Risk'|t }}</option>\n            <option value=\"medium\">{{ 'Medium Risk'|t }}</option>\n            <option value=\"low\">{{ 'Low Risk'|t }}</option>\n          </select>\n          \n          <select class=\"filter-select\" id=\"score-filter\">\n            <option value=\"all\">{{ 'All Scores'|t }}</option>\n            <option value=\"excellent\">{{ '90-100%'|t }}</option>\n            <option value=\"good\">{{ '70-89%'|t }}</option>\n            <option value=\"fair\">{{ '50-69%'|t }}</option>\n            <option value=\"poor\">{{ '0-49%'|t }}</option>\n          </select>\n        </div>\n        \n        <button class=\"btn btn-outline clear-filters-btn\">{{ 'Clear Filters'|t }}</button>\n      </div>\n    </div>\n\n    <div class=\"table-container\">\n      <table class=\"comprehensive-table\" id=\"extensions-table\">\n        <thead>\n          <tr>\n            <th class=\"select-column\">\n              <input type=\"checkbox\" id=\"select-all\" class=\"select-all-checkbox\">\n            </th>\n            <th class=\"sortable\" data-sort=\"display_name\">\n              {{ 'Extension'|t }}\n              <span class=\"sort-indicator\"></span>\n            </th>\n            <th class=\"sortable\" data-sort=\"overall_score\">\n              {{ 'Overall Score'|t }}\n              <span class=\"sort-indicator\"></span>\n            </th>\n            <th class=\"sortable\" data-sort=\"risk_level\">\n              {{ 'Risk Level'|t }}\n              <span class=\"sort-indicator\"></span>\n            </th>\n            <th class=\"sortable\" data-sort=\"security_score\">\n              {{ 'Security'|t }}\n              <span class=\"sort-indicator\"></span>\n            </th>\n            <th class=\"sortable\" data-sort=\"code_quality_score\">\n              {{ 'Code Quality'|t }}\n              <span class=\"sort-indicator\"></span>\n            </th>\n            <th class=\"sortable\" data-sort=\"upgrade_readiness\">\n              {{ 'D11 Ready'|t }}\n              <span class=\"sort-indicator\"></span>\n            </th>\n            <th class=\"sortable\" data-sort=\"effort_hours\">\n              {{ 'Effort (hrs)'|t }}\n              <span class=\"sort-indicator\"></span>\n            </th>\n            <th class=\"actions-column\">\n              {{ 'Actions'|t }}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {% if unified_data is defined and unified_data is not empty %}\n          {% for item in unified_data %}\n            <tr class=\"extension-row\" \n                data-name=\"{{ item.name }}\" \n                data-type=\"{{ item.type }}\" \n                data-category=\"{{ item.category }}\"\n                data-risk=\"{{ item.risk_level }}\"\n                data-score=\"{{ item.overall_score }}\">\n              <td class=\"select-column\">\n                <input type=\"checkbox\" class=\"row-checkbox\" value=\"{{ item.name }}\">\n              </td>\n              <td class=\"extension-info-column\">\n                <div class=\"extension-info\">\n                  <div class=\"extension-header\">\n                    <span class=\"type-icon\">{{ item.type == 'module' ? 'üß©' : 'üé®' }}</span>\n                    <strong class=\"extension-name\">{{ item.display_name }}</strong>\n                    {% if item.category == 'custom' %}\n                      <span class=\"badge badge-custom\">{{ 'Custom'|t }}</span>\n                    {% elseif item.category == 'core' %}\n                      <span class=\"badge badge-core\">{{ 'Core'|t }}</span>\n                    {% endif %}\n                  </div>\n                  <div class=\"extension-meta\">\n                    <span class=\"version\">{{ 'v'|t }}{{ item.version }}</span>\n                    <span class=\"status status-{{ item.status }}\">{{ item.status|title }}</span>\n                    {% if item.package and item.package != 'Other' %}\n                      <span class=\"package\">{{ item.package }}</span>\n                    {% endif %}\n                  </div>\n                  {% if item.description %}\n                    <div class=\"extension-description\">{{ item.description|length > 100 ? item.description|slice(0, 100) ~ '...' : item.description }}</div>\n                  {% endif %}\n                </div>\n              </td>\n              <td class=\"score-column\">\n                <div class=\"score-display\">\n                  <div class=\"score-circle score-{{ item.overall_score >= 80 ? 'excellent' : (item.overall_score >= 60 ? 'good' : (item.overall_score >= 40 ? 'fair' : 'poor')) }}\">\n                    {{ item.overall_score|round }}%\n                  </div>\n                  <div class=\"score-breakdown\">\n                    <div class=\"score-bar\">\n                      <div class=\"score-fill\" style=\"width: {{ item.overall_score }}%\"></div>\n                    </div>\n                  </div>\n                </div>\n              </td>\n              <td class=\"risk-column\">\n                <span class=\"risk-badge risk-{{ item.risk_level }}\">\n                  {% if item.risk_level == 'critical' %}üî¥\n                  {% elseif item.risk_level == 'high' %}üü†\n                  {% elseif item.risk_level == 'medium' %}üü°\n                  {% else %}üü¢{% endif %}\n                  {{ item.risk_level|title }}\n                </span>\n              </td>\n              <td class=\"security-column\">\n                <div class=\"metric-display\">\n                  <span class=\"metric-score\">{{ item.security_analysis.security_score|default(0)|round }}%</span>\n                  {% if item.security_analysis.security_vulnerabilities is defined and item.security_analysis.security_vulnerabilities|length > 0 %}\n                    <span class=\"metric-issues\">{{ item.security_analysis.security_vulnerabilities|length }} {{ 'issues'|t }}</span>\n                  {% endif %}\n                </div>\n              </td>\n              <td class=\"quality-column\">\n                <div class=\"metric-display\">\n                  <span class=\"metric-score\">{{ item.code_quality.phpcs_score|default(0)|round }}%</span>\n                  {% if item.phpcs_analysis.violations is defined and item.phpcs_analysis.violations|length > 0 %}\n                    <span class=\"metric-issues\">{{ item.phpcs_analysis.violations|length }} {{ 'violations'|t }}</span>\n                  {% endif %}\n                </div>\n              </td>\n              <td class=\"upgrade-column\">\n                <div class=\"upgrade-status\">\n                  {% if item.drupal_11_ready %}\n                    <span class=\"upgrade-ready\">‚úÖ {{ 'Ready'|t }}</span>\n                  {% else %}\n                    <span class=\"upgrade-needs-work\">‚ö†Ô∏è {{ 'Needs Work'|t }}</span>\n                    {% if item.upgrade_analysis.deprecated_code is defined and item.upgrade_analysis.deprecated_code|length > 0 %}\n                      <span class=\"deprecated-count\">{{ item.upgrade_analysis.deprecated_code|length }} {{ 'deprecated'|t }}</span>\n                    {% endif %}\n                  {% endif %}\n                </div>\n              </td>\n              <td class=\"effort-column\">\n                <div class=\"effort-display\">\n                  <span class=\"effort-hours\">{{ item.effort_estimation.total_hours|default(0) }}h</span>\n                  <span class=\"effort-complexity complexity-{{ item.effort_estimation.complexity|default('unknown') }}\">\n                    {{ item.effort_estimation.complexity|default('Unknown')|title }}\n                  </span>\n                </div>\n              </td>\n              <td class=\"actions-column\">\n                <div class=\"action-buttons\">\n                  <button class=\"btn btn-sm btn-primary analyze-btn\" data-name=\"{{ item.name }}\" data-type=\"{{ item.type }}\">\n                    <span class=\"btn-icon\">üîç</span>\n                    {{ 'Analyze'|t }}\n                  </button>\n                  <button class=\"btn btn-sm btn-outline details-btn\" data-name=\"{{ item.name }}\" data-type=\"{{ item.type }}\">\n                    <span class=\"btn-icon\">üìã</span>\n                    {{ 'Details'|t }}\n                  </button>\n                  <div class=\"dropdown action-dropdown\">\n                    <button class=\"btn btn-sm btn-secondary dropdown-toggle\" data-toggle=\"dropdown\">\n                      <span class=\"btn-icon\">‚öôÔ∏è</span>\n                    </button>\n                    <div class=\"dropdown-menu\">\n                      <a href=\"#\" class=\"dropdown-item rector-btn\" data-name=\"{{ item.name }}\">{{ 'Run Rector'|t }}</a>\n                      <a href=\"#\" class=\"dropdown-item phpcs-btn\" data-name=\"{{ item.name }}\">{{ 'Run PHPCS'|t }}</a>\n                      <a href=\"#\" class=\"dropdown-item security-btn\" data-name=\"{{ item.name }}\">{{ 'Security Scan'|t }}</a>\n                      <a href=\"#\" class=\"dropdown-item export-btn\" data-name=\"{{ item.name }}\">{{ 'Export Report'|t }}</a>\n                    </div>\n                  </div>\n                </div>\n              </td>\n            </tr>\n          {% endfor %}\n          {% else %}\n            <tr>\n              <td colspan=\"9\" class=\"text-center\">\n                <div class=\"empty-state\">\n                  <div class=\"empty-icon\">üîß</div>\n                  <div class=\"empty-message\">{{ 'No extensions found for analysis.'|t }}</div>\n                  <div class=\"empty-action\">\n                    <button class=\"btn btn-primary analyze-all-btn\" data-action=\"discover\">\n                      {{ 'Discover Extensions'|t }}\n                    </button>\n                  </div>\n                </div>\n              </td>\n            </tr>\n          {% endif %}\n        </tbody>\n      </table>\n    </div>\n  </div>\n\n  {# Detailed Analysis Modal #}\n  <div class=\"modal\" id=\"detailed-analysis-modal\" style=\"display: none;\">\n    <div class=\"modal-content modal-large\">\n      <div class=\"modal-header\">\n        <h3 class=\"modal-title\">{{ 'Detailed Analysis Report'|t }}</h3>\n        <button class=\"modal-close\">&times;</button>\n      </div>\n      <div class=\"modal-body\">\n        <div id=\"detailed-analysis-content\">\n          <!-- Dynamic content will be loaded here -->\n        </div>\n      </div>\n      <div class=\"modal-footer\">\n        <button class=\"btn btn-primary export-detailed-btn\">{{ 'Export Detailed Report'|t }}</button>\n        <button class=\"btn btn-secondary modal-close\">{{ 'Close'|t }}</button>\n      </div>\n    </div>\n  </div>\n\n  {# Loading Overlay #}\n  <div class=\"loading-overlay\" style=\"display: none;\">\n    <div class=\"loading-content\">\n      <div class=\"spinner\"></div>\n      <div class=\"loading-text\">{{ 'Running comprehensive analysis...'|t }}</div>\n      <div class=\"loading-progress\">\n        <div class=\"progress-bar\">\n          <div class=\"progress-fill\" style=\"width: 0%\"></div>\n        </div>\n        <div class=\"progress-text\">0%</div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<script>\n// Comprehensive Extensions Analysis JavaScript\ndocument.addEventListener('DOMContentLoaded', function() {\n  // Initialize comprehensive analysis functionality\n  initializeComprehensiveAnalysis();\n  \n  function initializeComprehensiveAnalysis() {\n    // Table sorting and filtering\n    initializeTableControls();\n    \n    // Analysis actions\n    initializeAnalysisActions();\n    \n    // Modal functionality\n    initializeModalControls();\n    \n    // Export functionality\n    initializeExportControls();\n  }\n  \n  function initializeTableControls() {\n    // Search functionality\n    const searchInput = document.getElementById('extension-search');\n    if (searchInput) {\n      searchInput.addEventListener('input', function() {\n        filterTable();\n      });\n    }\n    \n    // Filter controls\n    const filters = document.querySelectorAll('.filter-select');\n    filters.forEach(function(filter) {\n      filter.addEventListener('change', function() {\n        filterTable();\n      });\n    });\n    \n    // Clear filters\n    const clearBtn = document.querySelector('.clear-filters-btn');\n    if (clearBtn) {\n      clearBtn.addEventListener('click', function() {\n        clearAllFilters();\n      });\n    }\n    \n    // Sortable columns\n    const sortableHeaders = document.querySelectorAll('.sortable');\n    sortableHeaders.forEach(function(header) {\n      header.addEventListener('click', function() {\n        sortTable(this.dataset.sort);\n      });\n    });\n  }\n  \n  function initializeAnalysisActions() {\n    // Individual analysis buttons\n    document.addEventListener('click', function(e) {\n      if (e.target.matches('.analyze-btn') || e.target.closest('.analyze-btn')) {\n        const btn = e.target.matches('.analyze-btn') ? e.target : e.target.closest('.analyze-btn');\n        runIndividualAnalysis(btn.dataset.name, btn.dataset.type);\n      }\n      \n      if (e.target.matches('.details-btn') || e.target.closest('.details-btn')) {\n        const btn = e.target.matches('.details-btn') ? e.target : e.target.closest('.details-btn');\n        showDetailedAnalysis(btn.dataset.name, btn.dataset.type);\n      }\n      \n      if (e.target.matches('.analyze-all-btn') || e.target.closest('.analyze-all-btn')) {\n        const btn = e.target.matches('.analyze-all-btn') ? e.target : e.target.closest('.analyze-all-btn');\n        runFullAnalysis(btn.dataset.action);\n      }\n    });\n  }\n  \n  function runIndividualAnalysis(name, type) {\n    showLoadingOverlay('Analyzing ' + name + '...');\n    \n    // Simulate analysis process\n    fetch('/admin/reports/site-analyzer/analyze-extension', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: name,\n        type: type,\n        analysis_type: 'comprehensive'\n      })\n    })\n    .then(response => response.json())\n    .then(data => {\n      hideLoadingOverlay();\n      if (data.success) {\n        updateExtensionRow(name, data.results);\n        showSuccessMessage('Analysis completed for ' + name);\n      } else {\n        showErrorMessage('Analysis failed: ' + data.error);\n      }\n    })\n    .catch(error => {\n      hideLoadingOverlay();\n      showErrorMessage('Analysis failed: ' + error.message);\n    });\n  }\n  \n  function showDetailedAnalysis(name, type) {\n    const modal = document.getElementById('detailed-analysis-modal');\n    const content = document.getElementById('detailed-analysis-content');\n    \n    // Show modal\n    modal.style.display = 'block';\n    \n    // Load detailed analysis content\n    content.innerHTML = '<div class=\"loading-spinner\"></div><p>Loading detailed analysis...</p>';\n    \n    fetch('/admin/reports/site-analyzer/detailed-analysis/' + name)\n      .then(response => response.json())\n      .then(data => {\n        content.innerHTML = generateDetailedAnalysisHTML(data);\n      })\n      .catch(error => {\n        content.innerHTML = '<div class=\"error-message\">Failed to load detailed analysis: ' + error.message + '</div>';\n      });\n  }\n  \n  function generateDetailedAnalysisHTML(data) {\n    return `\n      <div class=\"detailed-analysis\">\n        <div class=\"analysis-tabs\">\n          <div class=\"tab-nav\">\n            <button class=\"tab-button active\" data-tab=\"overview\">Overview</button>\n            <button class=\"tab-button\" data-tab=\"code-quality\">Code Quality</button>\n            <button class=\"tab-button\" data-tab=\"security\">Security</button>\n            <button class=\"tab-button\" data-tab=\"performance\">Performance</button>\n            <button class=\"tab-button\" data-tab=\"upgrade\">Upgrade</button>\n            <button class=\"tab-button\" data-tab=\"recommendations\">Recommendations</button>\n          </div>\n          \n          <div class=\"tab-content active\" id=\"overview\">\n            <h4>Extension Overview</h4>\n            <div class=\"overview-grid\">\n              <div class=\"metric-card\">\n                <h5>Overall Score</h5>\n                <div class=\"score-display\">${data.overall_score}%</div>\n              </div>\n              <div class=\"metric-card\">\n                <h5>Risk Level</h5>\n                <div class=\"risk-display risk-${data.risk_level}\">${data.risk_level}</div>\n              </div>\n              <div class=\"metric-card\">\n                <h5>Estimated Effort</h5>\n                <div class=\"effort-display\">${data.effort_estimation.total_hours}h</div>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"tab-content\" id=\"code-quality\">\n            <h4>Code Quality Analysis</h4>\n            <div class=\"quality-metrics\">\n              <div class=\"metric-item\">\n                <span class=\"metric-label\">PHPCS Score:</span>\n                <span class=\"metric-value\">${data.code_quality.phpcs_score}%</span>\n              </div>\n              <div class=\"metric-item\">\n                <span class=\"metric-label\">PHPStan Level:</span>\n                <span class=\"metric-value\">${data.code_quality.phpstan_level}</span>\n              </div>\n              <div class=\"metric-item\">\n                <span class=\"metric-label\">Cyclomatic Complexity:</span>\n                <span class=\"metric-value\">${data.code_quality.cyclomatic_complexity}</span>\n              </div>\n              <div class=\"metric-item\">\n                <span class=\"metric-label\">Maintainability Index:</span>\n                <span class=\"metric-value\">${data.code_quality.maintainability_index}%</span>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Additional tabs would be generated here -->\n        </div>\n      </div>\n    `;\n  }\n  \n  function filterTable() {\n    const searchTerm = document.getElementById('extension-search').value.toLowerCase();\n    const typeFilter = document.getElementById('type-filter').value;\n    const categoryFilter = document.getElementById('category-filter').value;\n    const riskFilter = document.getElementById('risk-filter').value;\n    const scoreFilter = document.getElementById('score-filter').value;\n    \n    const rows = document.querySelectorAll('.extension-row');\n    \n    rows.forEach(function(row) {\n      let show = true;\n      \n      // Search filter\n      if (searchTerm) {\n        const name = row.querySelector('.extension-name').textContent.toLowerCase();\n        const description = row.querySelector('.extension-description');\n        const descText = description ? description.textContent.toLowerCase() : '';\n        \n        if (!name.includes(searchTerm) && !descText.includes(searchTerm)) {\n          show = false;\n        }\n      }\n      \n      // Type filter\n      if (typeFilter !== 'all' && row.dataset.type !== typeFilter) {\n        show = false;\n      }\n      \n      // Category filter\n      if (categoryFilter !== 'all' && row.dataset.category !== categoryFilter) {\n        show = false;\n      }\n      \n      // Risk filter\n      if (riskFilter !== 'all' && row.dataset.risk !== riskFilter) {\n        show = false;\n      }\n      \n      // Score filter\n      if (scoreFilter !== 'all') {\n        const score = parseInt(row.dataset.score);\n        let scoreMatch = false;\n        \n        switch (scoreFilter) {\n          case 'excellent':\n            scoreMatch = score >= 90;\n            break;\n          case 'good':\n            scoreMatch = score >= 70 && score < 90;\n            break;\n          case 'fair':\n            scoreMatch = score >= 50 && score < 70;\n            break;\n          case 'poor':\n            scoreMatch = score < 50;\n            break;\n        }\n        \n        if (!scoreMatch) {\n          show = false;\n        }\n      }\n      \n      row.style.display = show ? '' : 'none';\n    });\n  }\n  \n  function showLoadingOverlay(message) {\n    const overlay = document.querySelector('.loading-overlay');\n    const text = overlay.querySelector('.loading-text');\n    \n    text.textContent = message;\n    overlay.style.display = 'flex';\n  }\n  \n  function hideLoadingOverlay() {\n    const overlay = document.querySelector('.loading-overlay');\n    overlay.style.display = 'none';\n  }\n  \n  function showSuccessMessage(message) {\n    // Implementation for success message\n    console.log('Success:', message);\n  }\n  \n  function showErrorMessage(message) {\n    // Implementation for error message\n    console.error('Error:', message);\n  }\n});\n</script>"